<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <script src="jquery-3.2.1.js"></script>
    <!-- <script src="smartjq-recommend.js"></script> -->
    <!-- <script src="zepto.js"></script> -->
    <script src="../dist/xhear.js"></script>
</head>

<body>
    <br>
    <br>
    <br>
    <test sv-ele></test>
</body>
<script>
    xhear.register({
        tag: "test",
        data: {
            a: "a",
            b: "b",
            val: "I am val"
        },
        // val: {
        //     get() {
        //         return this.b + 1;
        //     },
        //     set(val) {
        //         return this.b = val;
        //     }
        // },
        temp: `
            <input type="text" sv-module="val" />
            <br>
            <input type="text" sv-module="a" />
            <br>
            <input type="text" sv-module="a" />
            <br>
            <input type="text" sv-module="val" />
        `
    });

    let data = new $.XData({
        a: "1000"
    });

    data.syncData($('test'));

    data.observe(d => {
        console.log(d);
    });

    let data2 = new $.XData({
        k: ""
    });

    data.transData("a", data2, "k", {
        beforeGet(val) {
            return val + "1";
        },
        beforeSet(val) {
            return val + "2";
        }
    });
</script>

</html>