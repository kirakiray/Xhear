<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>xhear test</title>
    <!-- <script src="../dist/xhear.js"></script> -->
    <style>
      :not(:defined) {
        display: none;
      }
    </style>
  </head>
  <body>
    This is the html file for development and debugging

    <div id="target1">
      <test-one>22</test-one>
      <test-one>33</test-one>
      <test-one>11</test-one>
    </div>
    <br />
    <div id="target2">
      <div><test-one>22</test-one></div>
      <div><test-one>33</test-one></div>
      <div><test-one>11</test-one></div>
    </div>
    <br />
    <test-two></test-two>

    <template id="compOne">
      <div>
        <input type="text" placeholder="I am i1" sync:value="val" />
        <slot></slot>
      </div>
    </template>
    <template id="compTwo">
      <div fill:one="arr"></div>
      <div fill:two="arr"></div>
      <template name="one">
        <test-one>{{$data}}</test-one>
      </template>
      <template name="two">
        <div>
          <test-one>{{$data}}</test-one>
        </div>
      </template>
    </template>
    <script type="module">
      import $ from "../src/base.mjs";

      window.$ = $;
      $.register({
        tag: "test-one",
        temp: $("#compOne").html,
        data: {
          val: "I am val",
        },
        attached() {
          if (this.isAtt) {
            throw "attached";
          }
          this._isAtt = 1;
          console.log("attached => ", this);
        },
        detached() {
          if (this.isDet) {
            throw "detached";
          }
          this._isDet = 1;
          console.log("detached => ", this);
        },
      });

      $.register({
        tag: "test-two",
        temp: $("#compTwo").html,
        data: {
          arr: [555, 666, 444],
        },
      });

      window.testReverse = () => {
        $("#target1").reverse();
        $("#target2").reverse();
        $("test-two").arr.reverse();
      };

      window.testSort = () => {
        $("#target1").sort((a, b) => {
          return a.text - b.text;
        });
        $("#target2").sort((a, b) => {
          return a.text - b.text;
        });
        $("test-two").arr.sort((a, b) => {
          return a - b;
        });
      };
    </script>
  </body>
</html>
